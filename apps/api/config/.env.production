# Production Environment Configuration
# CRITICAL: This file contains production secrets - DO NOT commit to version control
# Generated on: 2025-01-08

# Environment
ENVIRONMENT=production

# Database Configuration (REQUIRED)
# Replace with your production database credentials
# DATABASE_URL=postgresql+asyncpg://grateful_prod:REPLACE_WITH_ACTUAL_PASSWORD@your-db-host:5432/grateful_prod?ssl=require
# NOTE: This must be updated with actual production database credentials before deployment
DATABASE_URL=${DATABASE_URL}

# Security Configuration (CRITICAL - CRYPTOGRAPHICALLY SECURE)
# Generated with secrets.token_urlsafe(64) - 64+ characters, high entropy
SECRET_KEY=P8D0sqcFXLPH0ZKb9fVHAWfsjSdqZ-UUbdL__ku-ZNqAJR3kDGphIZqFT07mBTimw8ooyxUvh0k2IDhJi9kogA
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS Configuration (REQUIRED - HTTPS only in production)
# Add all production frontend domains that need API access
ALLOWED_ORIGINS=https://grateful-net.vercel.app,https://www.grateful-net.vercel.app,https://grateful-production.vercel.app

# Frontend Configuration
FRONTEND_BASE_URL=https://grateful-net.vercel.app

# File Upload Configuration
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
MAX_REQUEST_SIZE=10485760  # 10MB in bytes
UPLOAD_PATH=/app/uploads

# Rate Limiting Configuration (Production Optimized)
DEFAULT_RATE_LIMIT=100
AUTH_RATE_LIMIT=10
UPLOAD_RATE_LIMIT=20

# Logging Configuration
LOG_LEVEL=INFO
SECURITY_LOG_LEVEL=INFO

# SSL/TLS Configuration (REQUIRED for production)
SSL_REDIRECT=true
HSTS_MAX_AGE=63072000  # 2 years for enhanced security
HSTS_PRELOAD=true
HSTS_INCLUDE_SUBDOMAINS=true

# Secure Cookie Configuration
SECURE_COOKIES=true
COOKIE_SAMESITE=Lax
COOKIE_HTTPONLY=true

# Content Security Policy Domains
CSP_DOMAINS=https://grateful-net.vercel.app https://www.grateful-net.vercel.app

# Security Monitoring and Alerting
ENABLE_EMAIL_ALERTS=true
ENABLE_SLACK_ALERTS=false
SECURITY_ALERT_EMAIL=security@grateful-web.vercel.app

# Health Check Security
# Generated with secrets.token_urlsafe(32)
HEALTH_CHECK_TOKEN=EkPe9bVm_BUsnao7COzDT_4kTAyhSdBOvzUiPNXIslY

# External Services (Optional - Configure as needed)
# REDIS_URL=redis://localhost:6379/0
# SENTRY_DSN=your-sentry-dsn-here

# Email Configuration for Security Alerts (Configure for your SMTP provider)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=alerts@your-actual-domain.com
# SMTP_PASSWORD=your_actual_smtp_password
# SMTP_TLS=true
# SMTP_FROM_EMAIL=alerts@your-actual-domain.com
# SMTP_TO_EMAILS=admin@your-actual-domain.com,security@your-actual-domain.com

# Slack Configuration for Security Alerts (Optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_FILE_UPLOADS=true
ENABLE_NOTIFICATIONS=true
ENABLE_DOCS=false  # Disable API docs in production

# Database Connection Pool (Production Optimized)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800  # 30 minutes
DB_SSL_MODE=require

# Security Headers Configuration
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS_PRELOAD=true

# Production Security Validation
VALIDATE_SECURITY_ON_STARTUP=true
FAIL_ON_SECURITY_ISSUES=true

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD_MS=300
ENABLE_QUERY_LOGGING=false  # Only enable for debugging

# Security Testing (Set to false in production)
SECURITY_TESTING=false

# Load Testing (Set to false in production)
LOAD_TESTING=false

# OAuth Configuration (Production)
# CRITICAL: Replace with actual production OAuth credentials from Google Cloud Console
# Google OAuth Console Setup Required:
# 1. Go to https://console.cloud.google.com/apis/credentials
# 2. Create OAuth 2.0 Client ID for Web Application
# 3. Add Authorized redirect URIs based on your deployment domains
# 4. Set the client ID and secret below
GOOGLE_CLIENT_ID=${GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${GOOGLE_CLIENT_SECRET}

# Facebook OAuth (Optional - configure if needed)
FACEBOOK_CLIENT_ID=${FACEBOOK_CLIENT_ID}
FACEBOOK_CLIENT_SECRET=${FACEBOOK_CLIENT_SECRET}

# OAuth Redirect URI (Production) - Should point to frontend domain
# Example: https://your-frontend-domain.com/auth/callback/google
OAUTH_REDIRECT_URI=${OAUTH_REDIRECT_URI}

# OAuth Allowed Domains (comma-separated list of domains allowed for OAuth redirects)
# Update with your actual production domains
OAUTH_ALLOWED_DOMAINS=${OAUTH_ALLOWED_DOMAINS}

# Session Configuration for OAuth (Production)
# Generate secure session secret: python -c "import secrets; print(secrets.token_urlsafe(64))"
SESSION_SECRET=${SESSION_SECRET}

# Backup Configuration (Configure for your backup strategy)
# BACKUP_ENABLED=true
# BACKUP_RETENTION_DAYS=30
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM