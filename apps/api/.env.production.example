# Production Environment Configuration Example
# Copy this file to .env.production and update with your production values
# CRITICAL: Change all default values before deploying to production

# Environment
ENVIRONMENT=production

# Database Configuration (REQUIRED)
DATABASE_URL=postgresql+asyncpg://username:password@host:port/database?ssl=require

# Security Configuration (CRITICAL - MUST CHANGE)
# Generate a secure 64+ character secret key using: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE-THIS-TO-A-SECURE-64-CHARACTER-SECRET-KEY-GENERATED-WITH-SECRETS-MODULE
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS Configuration (REQUIRED - HTTPS only in production)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Frontend Configuration
FRONTEND_BASE_URL=https://yourdomain.com

# File Upload Configuration
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
MAX_REQUEST_SIZE=10485760  # 10MB in bytes
UPLOAD_PATH=/var/uploads/grateful

# Rate Limiting Configuration (Production Optimized)
DEFAULT_RATE_LIMIT=100
AUTH_RATE_LIMIT=10
UPLOAD_RATE_LIMIT=20

# Logging Configuration
LOG_LEVEL=INFO
SECURITY_LOG_LEVEL=INFO

# SSL/TLS Configuration (REQUIRED for production)
SSL_REDIRECT=true
HSTS_MAX_AGE=31536000  # 1 year

# Content Security Policy Domains
CSP_DOMAINS=https://yourdomain.com https://www.yourdomain.com

# Security Monitoring and Alerting
ENABLE_EMAIL_ALERTS=true
ENABLE_SLACK_ALERTS=false
SECURITY_ALERT_EMAIL=security@yourdomain.com

# External Services (Optional)
# REDIS_URL=redis://localhost:6379/0
# SENTRY_DSN=your-sentry-dsn-here

# Email Configuration for Security Alerts (Optional)
# SMTP_HOST=smtp.yourdomain.com
# SMTP_PORT=587
# SMTP_USERNAME=alerts@yourdomain.com
# SMTP_PASSWORD=your-smtp-app-password
# SMTP_TLS=true
# SMTP_FROM_EMAIL=alerts@yourdomain.com
# SMTP_TO_EMAILS=admin@yourdomain.com,security@yourdomain.com

# Slack Configuration for Security Alerts (Optional)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Monitoring and Health Checks
HEALTH_CHECK_TOKEN=generate-a-secure-health-check-token

# Feature Flags
ENABLE_REGISTRATION=true
ENABLE_FILE_UPLOADS=true
ENABLE_NOTIFICATIONS=true
ENABLE_DOCS=false  # Disable API docs in production

# Database Connection Pool (Production Optimized)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800  # 30 minutes
DB_SSL_MODE=require

# Security Headers Configuration
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS_PRELOAD=true

# Production Security Validation
VALIDATE_SECURITY_ON_STARTUP=true
FAIL_ON_SECURITY_ISSUES=true

# Backup Configuration (Optional)
# BACKUP_ENABLED=true
# BACKUP_RETENTION_DAYS=30
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD_MS=300
ENABLE_QUERY_LOGGING=false  # Only enable for debugging

# Security Testing (Set to false in production)
SECURITY_TESTING=false

# Load Testing (Set to false in production)
LOAD_TESTING=false